---
 - hosts: localhost
   connection: local
   gather_facts: true
   ignore_errors: no
   remote_user: dave
   become: true
   tasks:
    - name: gather os facts
      setup:
      register: theFacts

    - name: print os facts
      debug: var=theFacts
